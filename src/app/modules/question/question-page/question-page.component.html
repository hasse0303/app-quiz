
<mat-card class="container" fxLayout="column" fxLayoutGap="20px">
  <div fxLayout="row">
    <div fxFlex=50>
      <img style="width: 100px;" src="https://miro.medium.com/max/600/0*goJuBKoyL-zZX4RB.png" alt="logo">
    </div>
    <div fxFlex fxLayoutAlign="end center">
      <div>
        <h2 style="font-weight: 400; font-family: cursive; margin: 0;">Object Oriented Programming</h2>
        <i>Welcome <span style="font-weight: bold;">{{name}}!</span></i>
      </div>
    </div>
  </div>
  <ng-container *ngIf="!start">
    <div fxLayout="column" fxLayoutAlign="center center">
        <h1>Are you ready?</h1>
      <button mat-raised-button color="primary" (click)="startAQuiz()">GO</button>
    </div>
  </ng-container>

  <ng-container *ngIf="start">
    <div fxlayout="row" fxLayoutAlign="space-around">
      <div style="font-weight: 500;">
        <span *ngIf="points === 0">{{points}} point</span>
        <span *ngIf="points !== 0">{{points}} points</span>
      </div>
      <div><span style="font-family: cursive;">Question {{currentQuestion+1}} of {{questionList?.length}}</span></div>
      <div style="font-weight: 500;">{{counter}} sec ‚è∞</div>
    </div>
    <mat-progress-bar mode="determinate" [value]="progress"></mat-progress-bar>
    <div>
      <mat-divider></mat-divider>
    </div>
    <ng-container *ngIf="!done">
        <h3 style="font-weight: 500;">
          {{currentQuestion+1}}. {{questionList[currentQuestion]?.question}}
        </h3>
        <ol *ngFor='let answer of questionList[currentQuestion]?.answer'>
          <li (click)="answered(currentQuestion+1, answer)" >
            <mat-card appChangeBg [isCorrect]='answer.correct' [ngClass]="{'correct': answer.correct === incorrect}">
              {{answer.text}}
            </mat-card>
          </li>
        </ol>
    </ng-container>

    <ng-container *ngIf="done">
      <div fxLayout="row" fxLayoutAlign='center'>
        <div fxFlex='40'>
          <img *ngIf="points === 100" src="https://i.pinimg.com/originals/cf/95/d2/cf95d2d10914b09461ce0e750e4e3db1.gif" alt="" width="200">
          <img *ngIf="points < 100 && points >=70" src="https://c.tenor.com/lPtCwpm96MUAAAAC/lopelope.gif" alt="" width="200">
          <img *ngIf="points < 70 && points >=50" src="https://i.pinimg.com/originals/cf/76/72/cf76726963e74a3153943a1f0eb971c2.gif" alt="" width="200">
          <img *ngIf="points < 50 && points >=20" src="https://i.gifer.com/6mD.gif" alt="" width="200">
          <img *ngIf="points < 20" src="https://media.baamboozle.com/uploads/images/1006/1613865760_810030_gif-url.gif" alt="" width="200">
        </div>
        <div fxFLex class="result" >
          <h2 class="congrate">Congratulation!!</h2>
          <h2>You have completed the quiz.</h2>
          <h2>Below is your result:</h2>
          <p>Total question attempted: <b>{{countQu}}</b></p>
          <p>Total correct answer: <b>{{correctAnswer}}</b></p>
          <p>Total incorrect answer: <b>{{inCorrectAnswer}}</b></p>
          <p>Total score: <b>{{points}}</b></p>
        </div>
      </div>
    </ng-container>
  </ng-container>
</mat-card><br>

<button mat-raised-button [routerLink]="['/menu']">Back</button>

